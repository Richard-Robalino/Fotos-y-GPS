<ion-app>
  <ion-header>
    <ion-toolbar>
      <ion-title>Foto + GPS (Standalone)</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content class="ion-padding">
    <ion-button expand="block" (click)="onCapture()" [disabled]="loading">
      {{ loading ? 'Capturando...' : 'Tomar foto y guardar ubicación' }}
    </ion-button>

    <ion-list *ngIf="photos.list.length">
      <ion-item *ngFor="let p of photos.list">
        <ion-thumbnail slot="start">
          <img [src]="p.dataUrl" alt="foto" />
        </ion-thumbnail>
        <ion-label>
          <h3>{{ p.timestamp | date:'medium' }}</h3>
          <p>Lat: {{ p.latitude }}, Lng: {{ p.longitude }}</p>
          <a [href]="p.mapsUrl" target="_blank" rel="noopener">Ver en Google Maps</a>
        </ion-label>
      </ion-item>
    </ion-list>

    <p *ngIf="!photos.list.length" class="muted">Aún no hay capturas.</p>
  </ion-content>
</ion-app>
